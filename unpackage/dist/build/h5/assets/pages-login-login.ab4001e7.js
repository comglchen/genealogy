import{r as e,n as a,m as s,a as o,o as r,c as n,b as l,d as t,w as u,e as m,f as d}from"./index-672e06ab.js";import{_ as p}from"./_plugin-vue_export-helper.1b428a4d.js";const c=async o=>{console.log("进入mylogin.......");let r=await function(a,s){return new Promise(((o,r)=>{e({method:"POST",url:a,data:{username:s.username,password:s.password},success:e=>{o(e)},fail:e=>{console.log("没有成功"),r(e)}})}))}("http://120.26.48.204:3000/login",o);console.log("res========>",r.data.token),r.data.results.length?(sessionStorage.setItem("token",r.data.token),a({url:"/pages/index/index"}),s.success("恭喜您，登录成功！")):s.error("用户名或密码错误，登录失败！")},i=p({__name:"login",setup(e){const a=o({username:"",password:"",remember:!1}),s=e=>{let{username:a,password:s,remember:o}=e;c({username:a,password:s})},p=e=>{console.log("失败:",e)};return(e,o)=>{const c=m("a-input"),i=m("a-form-item"),f=m("a-input-password"),w=m("a-checkbox"),g=m("a-button"),_=m("a-form");return r(),n("div",{class:"login"},[l("div",{class:"content"},[t(_,{model:a,name:"basic","label-col":{span:4},"wrapper-col":{span:18},autocomplete:"off",onFinish:s,onFinishFailed:p},{default:u((()=>[t(i,{label:"帐号",name:"username",rules:[{required:!0,message:"请输入帐号!"}]},{default:u((()=>[t(c,{value:a.username,"onUpdate:value":o[0]||(o[0]=e=>a.username=e)},null,8,["value"])])),_:1}),t(i,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码!"}]},{default:u((()=>[t(f,{value:a.password,"onUpdate:value":o[1]||(o[1]=e=>a.password=e)},null,8,["value"])])),_:1}),t(i,{name:"remember","wrapper-col":{offset:4,span:16}},{default:u((()=>[t(w,{checked:a.remember,"onUpdate:checked":o[2]||(o[2]=e=>a.remember=e)},{default:u((()=>[d("记住我")])),_:1},8,["checked"])])),_:1}),t(i,{"wrapper-col":{offset:4,span:16}},{default:u((()=>[t(g,{type:"primary","html-type":"submit"},{default:u((()=>[d("登录")])),_:1})])),_:1})])),_:1},8,["model"])])])}}},[["__scopeId","data-v-c7c977a7"]]);export{i as default};
