import{r as e,s as a,u as l,v as i,o as t,g as s,w as o,i as m,d,b as n,t as c,f as u,j as f,l as r,x as h,y as g}from"./index-672e06ab.js";import{r as p,_ as y,a as _,b as N,c as P}from"./uni-table.857bb780.js";import{_ as b}from"./_plugin-vue_export-helper.1b428a4d.js";const x=b({data:()=>({modifyName:"",imgsrc:"/static/addimages.png",modifyDetail:"",ename:"",modifyPhone:""}),onLoad(e){this.imgsrc=e.url+e.imgsuffix,this.ename=e.ename,this.modifyName=e.name,this.modifyDetail=e.detail,this.modifyPhone=e.phone,console.log("in onload.................",e.ename)},methods:{show(){e({url:"/modify",method:"POST",data:{name:"tom",age:32},success:e=>{console.log("why>>>>>>>>>>>",e.data),this.modify=e.data}})},selectImage(){a({count:1,success:e=>{this.imgsrc=e.tempFilePaths[0],this.imageName=e.tempFiles[0].name,console.log("..........",JSON.stringify(e.tempFiles[0].name))}})},uploadimg(){const e=this.imgsrc;let a={imageName:this.imageName,imgPrName:this.ename};l({url:"http://120.26.48.204:3000/upload",filePath:e,name:"image",formData:{dat:JSON.stringify(a)},success:e=>{i({title:"上传成功",icon:"success"})},fail:e=>{i({title:"上传失败！",icon:"fail"})}})},modify(){e({url:"http://120.26.48.204:3000/modify",method:"post",data:{modifyDetail:this.modifyDetail,modifyName:this.modifyName,modifyPhone:this.modifyPhone},success:e=>{console.log(e),i({title:"上传成功",icon:"success"})},fail:e=>{i({title:"上传失败！",icon:"fail"})}})}}},[["render",function(e,a,l,i,b,x){const V=m,w=p(f("uni-th"),y),D=p(f("uni-tr"),_),j=r,k=p(f("uni-td"),N),v=h,C=p(f("uni-table"),P),F=g;return t(),s(V,{class:"container"},{default:o((()=>[d(V,{class:""},{default:o((()=>[n("h1",{style:{color:"aliceblue","margin-bottom":"80px"}},"编辑"+c(b.modifyName)+"相关内容",1)])),_:1}),d(V,null,{default:o((()=>[d(C,{class:"utable",border:"false",bemptyText:"暂无更多数据"},{default:o((()=>[d(D,null,{default:o((()=>[d(w,{align:"center"},{default:o((()=>[u("图片")])),_:1}),d(w,{align:"center"},{default:o((()=>[u("内容")])),_:1}),d(w,{align:"center",style:{width:"80px"}},{default:o((()=>[u("联系电话")])),_:1})])),_:1}),d(D,null,{default:o((()=>[d(k,{align:"center"},{default:o((()=>[d(V,{class:"photoview"},{default:o((()=>[d(j,{src:b.imgsrc,onClick:x.selectImage},null,8,["src","onClick"]),n("a",{href:"javascript:;",onClick:a[0]||(a[0]=(...e)=>x.uploadimg&&x.uploadimg(...e))},"上传照片")])),_:1})])),_:1}),d(k,null,{default:o((()=>[d(v,{class:"detailView",placeholder:"请输入要编辑的内容",modelValue:b.modifyDetail,"onUpdate:modelValue":a[1]||(a[1]=e=>b.modifyDetail=e)},null,8,["modelValue"])])),_:1}),d(k,null,{default:o((()=>[d(v,{class:"phoneView",placeholder:"请输入要编辑的内容",modelValue:b.modifyPhone,"onUpdate:modelValue":a[2]||(a[2]=e=>b.modifyPhone=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),d(F,{onClick:x.modify},{default:o((()=>[u("修改")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-ca164755"]]);export{x as default};
