import{r as a,L as e,M as t,N as i,O as l,o as s,i as o,w as m,u as d,e as c,d as n,t as u,h as f,K as r,Q as h,R as g,S as p}from"./index-7391ae6a.js";import{_ as y}from"./_plugin-vue_export-helper.1b428a4d.js";const N=y({data:()=>({modifyName:"",imgsrc:"/static/addimages.png",modifyDetail:"",ename:""}),onLoad(a){this.imgsrc=a.url,this.ename=a.ename,this.modifyName=a.name,this.modifyDetail=a.detail,console.log("in onload.................",a.ename)},methods:{show(){a({url:"/modify",method:"POST",data:{name:"tom",age:32},success:a=>{console.log("why>>>>>>>>>>>",a.data),this.modify=a.data}})},selectImage(){e({count:1,success:a=>{this.imgsrc=a.tempFilePaths[0],this.imageName=a.tempFiles[0].name,console.log("..........",JSON.stringify(a.tempFiles[0].name))}})},uploadimg(){const a=this.imgsrc;let e={imageName:this.imageName,imgPrName:this.ename};t({url:"http://120.26.48.204:3000/upload",filePath:a,name:"image",formData:{dat:JSON.stringify(e)},success:a=>{i({title:"上传成功",icon:"success"})},fail:a=>{i({title:"上传失败！",icon:"fail"})}})},modify(){a({url:"http://120.26.48.204:3000/modify",method:"post",data:{modifyDetail:this.modifyDetail,modifyName:this.modifyName},success:a=>{console.log(a),i({title:"上传成功",icon:"success"})},fail:a=>{i({title:"上传失败！",icon:"fail"})}})},back(a){this.$store.commit("setGlobalData","myvalue...."),l({})}}},[["render",function(a,e,t,i,l,y){const N=d,_=r,k=h,D=g,C=p;return s(),o(N,{class:"v-form"},{default:m((()=>[c(N,{class:""},{default:m((()=>[n("h1",null,"编辑"+u(l.modifyName)+"相关内容",1)])),_:1}),c(N,null,{default:m((()=>[c(C,{action:""},{default:m((()=>[f(" this is modify page....... "),n("table",{border:"1"},[n("tr",null,[n("th",null,"图片"),n("th",null,"内容")]),n("tr",null,[n("td",null,[c(N,{class:"photoview"},{default:m((()=>[c(_,{src:l.imgsrc,onClick:y.selectImage},null,8,["src","onClick"]),n("a",{href:"javascript:;",onClick:e[0]||(e[0]=(...a)=>y.uploadimg&&y.uploadimg(...a))},"上传照片")])),_:1})]),n("td",null,[c(k,{placeholder:"请输入要编辑的内容",modelValue:l.modifyDetail,"onUpdate:modelValue":e[1]||(e[1]=a=>l.modifyDetail=a)},null,8,["modelValue"])])])]),c(D,{onClick:y.modify},{default:m((()=>[f("修改")])),_:1},8,["onClick"]),c(D,{onClick:y.back},{default:m((()=>[f("返回")])),_:1},8,["onClick"])])),_:1}),c(_,{src:"http://localhost:3000/img/image-1709282987443-320586179.png"})])),_:1})])),_:1})}],["__scopeId","data-v-9b5a2776"]]);export{N as default};
